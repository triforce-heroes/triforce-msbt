import{BufferConsumer as e}from"@triforce-heroes/triforce-core/BufferConsumer";import n from"iconv-lite";export function parseEntries(r,t){let o=t.get("LBL1"),i=new e(o,void 0,r.bom).readUnsignedInt32(),d=new Map,s=new e(o.subarray(4+8*i),void 0,r.bom);for(;!s.isConsumed();){let e=s.readLengthPrefixedString(1),n=s.readUnsignedInt32();d.set(n,e)}let a=t.get("TXT2"),f=new e(a,void 0,r.bom),g=f.readUnsignedInt32(),u=[],m=0===r.encoding;for(let e=0;e<g;e++){let t=f.readUnsignedInt32(),o=e===g-1?a.length:f.readUnsignedInt32();f.back(4);let i=d.get(e),s=a.subarray(t,o),l=1===r.bom?n.decode(s,"utf16be"):s.toString(m?"utf8":"utf16le");u.push([i,l])}return u}